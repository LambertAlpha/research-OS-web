# Folder: lib

1. **地位**: 服务层。封装所有与外部系统交互的逻辑（API 客户端）和跨模块复用的工具函数。
2. **逻辑**: `api.ts` 提供单例 ApiClient 类，封装 HTTP 请求 → 通过 Next.js rewrite 代理到后端 → 返回类型安全的响应；`utils.ts` 提供纯函数工具集（样式合并、颜色映射、格式化）。
3. **约束**: 所有函数必须是纯函数或隔离副作用；API 客户端使用相对路径（依赖 Next.js 代理）；不包含 React 组件代码。

## 成员清单

- `api.ts`: API 客户端 (HTTP Gateway) — 单例模式，封装所有后端 API 端点调用
- `utils.ts`: 工具函数集 (Pure Utilities) — cn()、风险灯号映射、格式化函数

**触发器**: 一旦本文件夹增删文件或架构逻辑调整，必须重写此文档。
